<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ—¥æœ¬èª Belajar Bahasa Jepang</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&family=Noto+Serif+JP:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --red: #C0392B;
    --darkred: #922B21;
    --cream: #FDF6EC;
    --ink: #1a1a2e;
    --gold: #D4A017;
    --pink: #F9C6C6;
    --muted: #7f8c8d;
    --white: #fff;
    --card-bg: #fff;
    --shadow: 0 4px 24px rgba(0,0,0,0.10);
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Poppins', sans-serif;
    background: var(--cream);
    color: var(--ink);
    min-height: 100vh;
  }

  header {
    background: var(--red);
    color: #fff;
    position: sticky; top: 0; z-index: 100;
    box-shadow: 0 2px 12px rgba(0,0,0,0.18);
  }
  .header-inner {
    display: flex; align-items: center; justify-content: space-between;
    max-width: 1200px; margin: 0 auto; padding: 0 24px;
    height: 64px; flex-wrap: wrap; gap: 8px;
  }
  .logo { display: flex; align-items: center; gap: 12px; }
  .logo-jp { font-family: 'Noto Serif JP', serif; font-size: 2rem; letter-spacing: 2px; }
  .logo-text { font-size: 1.1rem; font-weight: 600; letter-spacing: 1px; }
  nav { display: flex; gap: 4px; flex-wrap: wrap; }
  nav button {
    background: transparent; border: none; color: rgba(255,255,255,0.80);
    font-family: 'Poppins', sans-serif; font-size: 0.85rem; font-weight: 500;
    padding: 7px 13px; border-radius: 8px; cursor: pointer;
    transition: all 0.2s;
  }
  nav button:hover, nav button.active {
    background: rgba(255,255,255,0.18); color: #fff;
  }

  .hero {
    background: linear-gradient(135deg, #C0392B 0%, #922B21 60%, #6E1E1E 100%);
    color: #fff; text-align: center;
    padding: 56px 24px 48px;
    position: relative; overflow: hidden;
    border-radius: 24px; margin: 20px 16px;
  }
  .hero::before {
    content: 'æ—¥æœ¬èª';
    font-family: 'Noto Serif JP', serif;
    font-size: 14rem; font-weight: 700;
    position: absolute; top: -40px; left: 50%; transform: translateX(-50%);
    opacity: 0.06; pointer-events: none; white-space: nowrap;
  }
  .hero h1 { font-size: 2.4rem; font-weight: 700; margin-bottom: 12px; position: relative; }
  .hero p { font-size: 1.05rem; opacity: 0.88; max-width: 520px; margin: 0 auto 28px; position: relative; }
  .hero-btns { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; position: relative; }
  .btn-hero {
    padding: 12px 28px; border-radius: 50px; font-size: 0.95rem; font-weight: 600;
    cursor: pointer; border: 2px solid #fff; transition: all 0.2s;
  }
  .btn-hero.primary { background: #fff; color: var(--red); }
  .btn-hero.primary:hover { background: var(--cream); }
  .btn-hero.secondary { background: transparent; color: #fff; }
  .btn-hero.secondary:hover { background: rgba(255,255,255,0.15); }

  .section { display: none; max-width: 1200px; margin: 0 auto; padding: 32px 20px 60px; }
  .section.active { display: block; }
  .section-title {
    font-family: 'Noto Serif JP', serif;
    font-size: 1.8rem; font-weight: 700; margin-bottom: 8px;
    display: flex; align-items: center; gap: 12px;
  }
  .section-title span.jp { color: var(--red); font-size: 2rem; }
  .section-desc { color: var(--muted); margin-bottom: 28px; font-size: 0.95rem; }

  .tab-group { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
  .tab-btn {
    padding: 8px 20px; border-radius: 50px; border: 2px solid var(--red);
    background: transparent; color: var(--red); font-family: 'Poppins', sans-serif;
    font-size: 0.88rem; font-weight: 600; cursor: pointer; transition: all 0.2s;
  }
  .tab-btn.active, .tab-btn:hover { background: var(--red); color: #fff; }

  .kana-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(88px, 1fr));
    gap: 10px; margin-bottom: 32px;
  }
  .kana-card {
    background: var(--card-bg); border-radius: 14px;
    padding: 14px 6px 10px; text-align: center;
    box-shadow: var(--shadow); cursor: pointer;
    transition: transform 0.18s, box-shadow 0.18s, border-color 0.18s;
    border: 2px solid transparent;
  }
  .kana-card:hover { transform: translateY(-4px); box-shadow: 0 8px 32px rgba(192,57,43,0.18); border-color: var(--red); }
  .kana-card .jp-char { font-family: 'Noto Serif JP', serif; font-size: 2rem; color: var(--ink); display: block; }
  .kana-card .romaji { font-size: 0.78rem; color: var(--red); font-weight: 700; margin-top: 4px; }
  .kana-card .indo { font-size: 0.68rem; color: var(--muted); margin-top: 2px; }

  .vocab-filter { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; align-items: center; }
  .search-input {
    padding: 8px 16px; border-radius: 50px; border: 2px solid #ddd;
    font-family: 'Poppins', sans-serif; font-size: 0.9rem; outline: none;
    width: 200px; transition: border 0.2s;
  }
  .search-input:focus { border-color: var(--red); }

  .vocab-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 14px;
  }
  .vocab-card {
    background: #fff; border-radius: 16px; padding: 18px;
    box-shadow: var(--shadow); cursor: pointer;
    transition: transform 0.18s, box-shadow 0.18s;
    border-left: 4px solid var(--red);
  }
  .vocab-card:hover { transform: translateY(-3px); box-shadow: 0 8px 32px rgba(192,57,43,0.15); }
  .vocab-card .vc-jp { font-family: 'Noto Serif JP', serif; font-size: 1.5rem; font-weight: 700; }
  .vocab-card .vc-romaji { color: var(--red); font-size: 0.82rem; font-weight: 600; margin: 2px 0; }
  .vocab-card .vc-indo { font-size: 0.9rem; color: var(--ink); }
  .vocab-card .vc-example { font-size: 0.78rem; color: var(--muted); margin-top: 8px; font-style: italic; border-top: 1px solid #f0f0f0; padding-top: 8px; display: none; }
  .vocab-card .vc-badge {
    display: inline-block; padding: 2px 10px; border-radius: 50px;
    font-size: 0.7rem; font-weight: 700; margin-bottom: 6px;
  }
  .vc-badge.n5 { background: #ffeeba; color: #856404; }
  .vc-badge.n4 { background: #cce5ff; color: #004085; }

  .quiz-box {
    background: #fff; border-radius: 24px; padding: 36px 28px;
    box-shadow: var(--shadow); max-width: 520px; margin: 0 auto;
    text-align: center;
  }
  .quiz-question { font-family: 'Noto Serif JP', serif; font-size: 4.5rem; color: var(--ink); margin-bottom: 20px; display: block; }
  .quiz-opts { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
  .quiz-opt {
    padding: 13px; border-radius: 12px; border: 2px solid #e0e0e0;
    background: #fafafa; font-size: 0.95rem; font-weight: 600; cursor: pointer;
    transition: all 0.18s; font-family: 'Poppins', sans-serif;
  }
  .quiz-opt:hover { border-color: var(--red); background: #fff5f5; }
  .quiz-opt.correct { background: #d4edda; border-color: #28a745; color: #155724; }
  .quiz-opt.wrong { background: #f8d7da; border-color: #dc3545; color: #721c24; }
  .quiz-score { font-size: 0.88rem; color: var(--muted); margin-bottom: 12px; }
  .quiz-next {
    margin-top: 18px; padding: 11px 30px; background: var(--red); color: #fff;
    border: none; border-radius: 50px; font-size: 0.95rem; font-weight: 600;
    cursor: pointer; display: none;
  }
  .quiz-next:hover { background: var(--darkred); }
  .quiz-result { font-size: 1rem; margin-top: 14px; font-weight: 600; min-height: 26px; }
  .progress-bar { background: #eee; border-radius: 50px; height: 7px; margin: 6px 0 16px; }
  .progress-fill { height: 100%; border-radius: 50px; background: linear-gradient(90deg, var(--red), var(--gold)); transition: width 0.5s; }

  .tips-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 14px; }
  .tip-card { background: #fff; border-radius: 16px; padding: 20px; box-shadow: var(--shadow); }
  .tip-card .tip-icon { font-size: 1.8rem; margin-bottom: 8px; }
  .tip-card h3 { font-size: 0.98rem; font-weight: 700; margin-bottom: 6px; }
  .tip-card p { font-size: 0.85rem; color: var(--muted); line-height: 1.6; }

  .home-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(210px, 1fr)); gap: 14px; padding: 0 16px 32px; }

  footer { text-align: center; padding: 24px; background: var(--ink); color: rgba(255,255,255,0.5); font-size: 0.8rem; margin-top: 40px; }

  @media (max-width: 600px) {
    .hero h1 { font-size: 1.5rem; }
    .kana-grid { grid-template-columns: repeat(auto-fill, minmax(68px, 1fr)); gap: 7px; }
    .kana-card .jp-char { font-size: 1.5rem; }
  }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">
      <span class="logo-jp">æ—¥</span>
      <span class="logo-text">Belajar Jepang</span>
    </div>
    <nav>
      <button class="active" onclick="showSection('home',this)">ğŸ  Home</button>
      <button onclick="showSection('hiragana',this)">ã‚ Hiragana</button>
      <button onclick="showSection('katakana',this)">ã‚¢ Katakana</button>
      <button onclick="showSection('vocab',this)">ğŸ“š Kosakata</button>
      <button onclick="showSection('quiz',this)">ğŸ® Kuis</button>
      <button onclick="showSection('tips',this)">ğŸ’¡ Tips</button>
    </nav>
  </div>
</header>

<!-- HOME -->
<div id="home" class="section active">
  <div class="hero">
    <h1>Belajar Bahasa Jepang <span style="font-family:'Noto Serif JP',serif;">æ—¥æœ¬èª</span></h1>
    <p>Kuasai Hiragana, Katakana, dan Kosakata N4â€“N5 dengan cara yang menyenangkan!</p>
    <div class="hero-btns">
      <button class="btn-hero primary" onclick="showSectionByName('hiragana')">Mulai Hiragana</button>
      <button class="btn-hero secondary" onclick="showSectionByName('quiz')">Coba Kuis</button>
    </div>
  </div>
  <div class="home-cards">
    <div class="tip-card" style="border-top:4px solid #C0392B;">
      <div class="tip-icon">ã‚</div>
      <h3>46 Hiragana</h3>
      <p>Aksara dasar bahasa Jepang. Kartu interaktif + kuis.</p>
      <button class="tab-btn active" style="margin-top:12px;width:100%;" onclick="showSectionByName('hiragana')">Belajar â†’</button>
    </div>
    <div class="tip-card" style="border-top:4px solid #2980B9;">
      <div class="tip-icon">ã‚¢</div>
      <h3>46 Katakana</h3>
      <p>Untuk kata serapan & nama asing. Tips mnemonik.</p>
      <button class="tab-btn" style="margin-top:12px;width:100%;border-color:#2980B9;color:#2980B9;" onclick="showSectionByName('katakana')">Belajar â†’</button>
    </div>
    <div class="tip-card" style="border-top:4px solid #D4A017;">
      <div class="tip-icon">ğŸ“–</div>
      <h3>Kosakata N4 & N5</h3>
      <p>60+ kata penting JLPT lengkap contoh kalimat.</p>
      <button class="tab-btn" style="margin-top:12px;width:100%;border-color:#D4A017;color:#D4A017;" onclick="showSectionByName('vocab')">Belajar â†’</button>
    </div>
    <div class="tip-card" style="border-top:4px solid #27AE60;">
      <div class="tip-icon">ğŸ®</div>
      <h3>Kuis Interaktif</h3>
      <p>Uji kemampuan dengan kuis hiragana, katakana, kosakata.</p>
      <button class="tab-btn" style="margin-top:12px;width:100%;border-color:#27AE60;color:#27AE60;" onclick="showSectionByName('quiz')">Main Kuis â†’</button>
    </div>
  </div>
</div>

<!-- HIRAGANA -->
<div id="hiragana" class="section">
  <div class="section-title"><span class="jp">ã‚</span> Hiragana</div>
  <p class="section-desc">Klik kartu untuk membalik (flip). Hiragana adalah aksara dasar bahasa Jepang untuk kata asli.</p>
  <div class="tab-group">
    <button class="tab-btn active" onclick="filterKana('hiragana','gojuuon',this)">Gojuuon (Basic)</button>
    <button class="tab-btn" onclick="filterKana('hiragana','dakuten',this)">Dakuten (Bersuara)</button>
    <button class="tab-btn" onclick="filterKana('hiragana','combo',this)">Kombinasi</button>
  </div>
  <div id="hiragana-grid" class="kana-grid"></div>
</div>

<!-- KATAKANA -->
<div id="katakana" class="section">
  <div class="section-title"><span class="jp" style="color:#2980B9;">ã‚¢</span> Katakana</div>
  <p class="section-desc">Katakana digunakan untuk kata serapan dan nama asing. Klik kartu untuk membalik!</p>
  <div class="tab-group">
    <button class="tab-btn active" onclick="filterKana('katakana','gojuuon',this)">Gojuuon (Basic)</button>
    <button class="tab-btn" onclick="filterKana('katakana','dakuten',this)">Dakuten (Bersuara)</button>
    <button class="tab-btn" onclick="filterKana('katakana','combo',this)">Kombinasi</button>
  </div>
  <div id="katakana-grid" class="kana-grid"></div>
</div>

<!-- VOCAB -->
<div id="vocab" class="section">
  <div class="section-title"><span class="jp" style="color:#D4A017;">èª</span> Kosakata N4 & N5</div>
  <p class="section-desc">Klik kartu untuk melihat contoh kalimat. Filter berdasarkan level JLPT.</p>
  <div class="vocab-filter">
    <button class="tab-btn active" onclick="filterVocab('all',this)">Semua</button>
    <button class="tab-btn" onclick="filterVocab('n5',this)">N5</button>
    <button class="tab-btn" onclick="filterVocab('n4',this)">N4</button>
    <input class="search-input" type="text" id="vocab-search" placeholder="ğŸ” Cari kata..." oninput="searchVocab()">
  </div>
  <div id="vocab-grid" class="vocab-grid"></div>
</div>

<!-- QUIZ -->
<div id="quiz" class="section">
  <div class="section-title"><span class="jp" style="color:#27AE60;">å•</span> Kuis</div>
  <p class="section-desc">Uji hafalan kamu! Pilih jenis kuis:</p>
  <div class="tab-group">
    <button class="tab-btn active" onclick="setQuizMode('hiragana',this)">Hiragana</button>
    <button class="tab-btn" onclick="setQuizMode('katakana',this)">Katakana</button>
    <button class="tab-btn" onclick="setQuizMode('vocab',this)">Kosakata</button>
  </div>
  <div class="quiz-box">
    <div class="quiz-score" id="quiz-score">Skor: 0 / 0</div>
    <div class="progress-bar"><div class="progress-fill" id="quiz-progress" style="width:0%"></div></div>
    <span class="quiz-question" id="quiz-question">ï¼Ÿ</span>
    <p id="quiz-hint" style="color:var(--muted);font-size:0.83rem;margin-bottom:14px;"></p>
    <div class="quiz-opts" id="quiz-opts"></div>
    <div class="quiz-result" id="quiz-result"></div>
    <button class="quiz-next" id="quiz-next" onclick="nextQuestion()">Soal Berikutnya â†’</button>
    <br>
    <button id="quiz-restart" style="margin-top:14px;padding:9px 22px;border:2px solid var(--red);background:transparent;color:var(--red);border-radius:50px;font-size:0.88rem;font-weight:600;cursor:pointer;" onclick="restartQuiz()">ğŸ”„ Mulai Ulang</button>
  </div>
</div>

<!-- TIPS -->
<div id="tips" class="section">
  <div class="section-title"><span class="jp" style="color:#8E44AD;">æ³•</span> Tips Menghafal</div>
  <p class="section-desc">Strategi terbaik untuk menghafal Hiragana, Katakana, dan Kosakata Jepang dengan cepat!</p>
  <div class="tips-grid">
    <div class="tip-card" style="border-top:4px solid #C0392B;"><div class="tip-icon">ğŸ”</div><h3>Spaced Repetition</h3><p>Ulangi kartu yang susah lebih sering. Review 15 menit/hari lebih efektif daripada 2 jam sekaligus.</p></div>
    <div class="tip-card" style="border-top:4px solid #2980B9;"><div class="tip-icon">ğŸ–¼ï¸</div><h3>Mnemonik Visual</h3><p>Sambungkan bentuk huruf dengan gambar. Contoh: <b>ã‚ (a)</b> mirip orang mengangkat tangan dan bilang "Ah!"</p></div>
    <div class="tip-card" style="border-top:4px solid #27AE60;"><div class="tip-icon">âœï¸</div><h3>Tulis Berulang</h3><p>Tulis setiap karakter 10x sambil mengucapkannya. Kombinasi tulisan + suara mempercepat hafalan.</p></div>
    <div class="tip-card" style="border-top:4px solid #D4A017;"><div class="tip-icon">ğŸµ</div><h3>Lagu Hiragana</h3><p>Hafal aksara dengan lagu. Cari "Hiragana Song" di YouTube. Ritme membantu otak menyimpan lebih lama.</p></div>
    <div class="tip-card" style="border-top:4px solid #8E44AD;"><div class="tip-icon">ğŸ—£ï¸</div><h3>Konteks & Kalimat</h3><p>Pelajari kosakata dalam kalimat. <b>æ°´ (mizu)</b> â†’ "æ°´ã‚’é£²ã‚€" (minum air) â€” jauh lebih mudah diingat!</p></div>
    <div class="tip-card" style="border-top:4px solid #E67E22;"><div class="tip-icon">ğŸŒ</div><h3>Input Nyata</h3><p>Tonton anime/drama Jepang dengan subtitle Jepang. Otak belajar dari konteks nyata lebih cepat!</p></div>
    <div class="tip-card" style="border-top:4px solid #C0392B;"><div class="tip-icon">ğŸ“±</div><h3>Baris Vokal Dulu</h3><p>Mulai dari baris Aâ€“Iâ€“Uâ€“Eâ€“O, lalu Kaâ€“Kiâ€“Kuâ€“Keâ€“Ko, dst. Jangan loncat-loncat baris!</p></div>
    <div class="tip-card" style="border-top:4px solid #2980B9;"><div class="tip-icon">ğŸ¯</div><h3>Target Realistis</h3><p>5 karakter/hari â†’ dalam 10 hari hafal semua hiragana! Konsistensi lebih penting dari intensitas.</p></div>
  </div>
  <div style="background:#fff;border-radius:18px;padding:24px;margin-top:20px;box-shadow:var(--shadow);">
    <h3 style="font-family:'Noto Serif JP',serif;font-size:1.2rem;margin-bottom:14px;">ğŸ“Š Urutan Belajar yang Disarankan</h3>
    <div style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;">
      <div style="background:#ffeeba;padding:7px 14px;border-radius:50px;font-weight:600;font-size:0.85rem;">1ï¸âƒ£ Hiragana (2 minggu)</div>
      <span>â†’</span>
      <div style="background:#cce5ff;padding:7px 14px;border-radius:50px;font-weight:600;font-size:0.85rem;">2ï¸âƒ£ Katakana (2 minggu)</div>
      <span>â†’</span>
      <div style="background:#d4edda;padding:7px 14px;border-radius:50px;font-weight:600;font-size:0.85rem;">3ï¸âƒ£ Kosakata N5 (2 bulan)</div>
      <span>â†’</span>
      <div style="background:#f8d7da;padding:7px 14px;border-radius:50px;font-weight:600;font-size:0.85rem;">4ï¸âƒ£ Kosakata N4 (3 bulan)</div>
    </div>
  </div>
</div>

<footer>
  <p>æ—¥æœ¬èªã‚’æ¥½ã—ãå­¦ã¼ã†ï¼ â€” Belajar Jepang dengan Semangat ğŸ‡¯ğŸ‡µ</p>
  <p style="margin-top:4px;">Dibuat untuk pelajar bahasa Jepang Indonesia â¤ï¸</p>
</footer>

<script>
const hiraganaData = {
  gojuuon: [
    {char:'ã‚',rom:'a',indo:'a'},{char:'ã„',rom:'i',indo:'i'},{char:'ã†',rom:'u',indo:'u'},{char:'ãˆ',rom:'e',indo:'e'},{char:'ãŠ',rom:'o',indo:'o'},
    {char:'ã‹',rom:'ka'},{char:'ã',rom:'ki'},{char:'ã',rom:'ku'},{char:'ã‘',rom:'ke'},{char:'ã“',rom:'ko'},
    {char:'ã•',rom:'sa'},{char:'ã—',rom:'shi'},{char:'ã™',rom:'su'},{char:'ã›',rom:'se'},{char:'ã',rom:'so'},
    {char:'ãŸ',rom:'ta'},{char:'ã¡',rom:'chi'},{char:'ã¤',rom:'tsu'},{char:'ã¦',rom:'te'},{char:'ã¨',rom:'to'},
    {char:'ãª',rom:'na'},{char:'ã«',rom:'ni'},{char:'ã¬',rom:'nu'},{char:'ã­',rom:'ne'},{char:'ã®',rom:'no'},
    {char:'ã¯',rom:'ha'},{char:'ã²',rom:'hi'},{char:'ãµ',rom:'fu'},{char:'ã¸',rom:'he'},{char:'ã»',rom:'ho'},
    {char:'ã¾',rom:'ma'},{char:'ã¿',rom:'mi'},{char:'ã‚€',rom:'mu'},{char:'ã‚',rom:'me'},{char:'ã‚‚',rom:'mo'},
    {char:'ã‚„',rom:'ya'},{char:'ã‚†',rom:'yu'},{char:'ã‚ˆ',rom:'yo'},
    {char:'ã‚‰',rom:'ra'},{char:'ã‚Š',rom:'ri'},{char:'ã‚‹',rom:'ru'},{char:'ã‚Œ',rom:'re'},{char:'ã‚',rom:'ro'},
    {char:'ã‚',rom:'wa'},{char:'ã‚’',rom:'wo'},{char:'ã‚“',rom:'n'}
  ],
  dakuten: [
    {char:'ãŒ',rom:'ga'},{char:'ã',rom:'gi'},{char:'ã',rom:'gu'},{char:'ã’',rom:'ge'},{char:'ã”',rom:'go'},
    {char:'ã–',rom:'za'},{char:'ã˜',rom:'ji'},{char:'ãš',rom:'zu'},{char:'ãœ',rom:'ze'},{char:'ã',rom:'zo'},
    {char:'ã ',rom:'da'},{char:'ã¢',rom:'di'},{char:'ã¥',rom:'du'},{char:'ã§',rom:'de'},{char:'ã©',rom:'do'},
    {char:'ã°',rom:'ba'},{char:'ã³',rom:'bi'},{char:'ã¶',rom:'bu'},{char:'ã¹',rom:'be'},{char:'ã¼',rom:'bo'},
    {char:'ã±',rom:'pa'},{char:'ã´',rom:'pi'},{char:'ã·',rom:'pu'},{char:'ãº',rom:'pe'},{char:'ã½',rom:'po'},
  ],
  combo: [
    {char:'ãã‚ƒ',rom:'kya'},{char:'ãã‚…',rom:'kyu'},{char:'ãã‚‡',rom:'kyo'},
    {char:'ã—ã‚ƒ',rom:'sha'},{char:'ã—ã‚…',rom:'shu'},{char:'ã—ã‚‡',rom:'sho'},
    {char:'ã¡ã‚ƒ',rom:'cha'},{char:'ã¡ã‚…',rom:'chu'},{char:'ã¡ã‚‡',rom:'cho'},
    {char:'ã«ã‚ƒ',rom:'nya'},{char:'ã«ã‚…',rom:'nyu'},{char:'ã«ã‚‡',rom:'nyo'},
    {char:'ã²ã‚ƒ',rom:'hya'},{char:'ã²ã‚…',rom:'hyu'},{char:'ã²ã‚‡',rom:'hyo'},
    {char:'ã¿ã‚ƒ',rom:'mya'},{char:'ã¿ã‚…',rom:'myu'},{char:'ã¿ã‚‡',rom:'myo'},
    {char:'ã‚Šã‚ƒ',rom:'rya'},{char:'ã‚Šã‚…',rom:'ryu'},{char:'ã‚Šã‚‡',rom:'ryo'},
    {char:'ãã‚ƒ',rom:'gya'},{char:'ã˜ã‚ƒ',rom:'ja'},{char:'ã³ã‚ƒ',rom:'bya'},{char:'ã´ã‚ƒ',rom:'pya'},
  ]
};

const katakanaData = {
  gojuuon: [
    {char:'ã‚¢',rom:'a'},{char:'ã‚¤',rom:'i'},{char:'ã‚¦',rom:'u'},{char:'ã‚¨',rom:'e'},{char:'ã‚ª',rom:'o'},
    {char:'ã‚«',rom:'ka'},{char:'ã‚­',rom:'ki'},{char:'ã‚¯',rom:'ku'},{char:'ã‚±',rom:'ke'},{char:'ã‚³',rom:'ko'},
    {char:'ã‚µ',rom:'sa'},{char:'ã‚·',rom:'shi'},{char:'ã‚¹',rom:'su'},{char:'ã‚»',rom:'se'},{char:'ã‚½',rom:'so'},
    {char:'ã‚¿',rom:'ta'},{char:'ãƒ',rom:'chi'},{char:'ãƒ„',rom:'tsu'},{char:'ãƒ†',rom:'te'},{char:'ãƒˆ',rom:'to'},
    {char:'ãƒŠ',rom:'na'},{char:'ãƒ‹',rom:'ni'},{char:'ãƒŒ',rom:'nu'},{char:'ãƒ',rom:'ne'},{char:'ãƒ',rom:'no'},
    {char:'ãƒ',rom:'ha'},{char:'ãƒ’',rom:'hi'},{char:'ãƒ•',rom:'fu'},{char:'ãƒ˜',rom:'he'},{char:'ãƒ›',rom:'ho'},
    {char:'ãƒ',rom:'ma'},{char:'ãƒŸ',rom:'mi'},{char:'ãƒ ',rom:'mu'},{char:'ãƒ¡',rom:'me'},{char:'ãƒ¢',rom:'mo'},
    {char:'ãƒ¤',rom:'ya'},{char:'ãƒ¦',rom:'yu'},{char:'ãƒ¨',rom:'yo'},
    {char:'ãƒ©',rom:'ra'},{char:'ãƒª',rom:'ri'},{char:'ãƒ«',rom:'ru'},{char:'ãƒ¬',rom:'re'},{char:'ãƒ­',rom:'ro'},
    {char:'ãƒ¯',rom:'wa'},{char:'ãƒ²',rom:'wo'},{char:'ãƒ³',rom:'n'}
  ],
  dakuten: [
    {char:'ã‚¬',rom:'ga'},{char:'ã‚®',rom:'gi'},{char:'ã‚°',rom:'gu'},{char:'ã‚²',rom:'ge'},{char:'ã‚´',rom:'go'},
    {char:'ã‚¶',rom:'za'},{char:'ã‚¸',rom:'ji'},{char:'ã‚º',rom:'zu'},{char:'ã‚¼',rom:'ze'},{char:'ã‚¾',rom:'zo'},
    {char:'ãƒ€',rom:'da'},{char:'ãƒ‚',rom:'di'},{char:'ãƒ…',rom:'du'},{char:'ãƒ‡',rom:'de'},{char:'ãƒ‰',rom:'do'},
    {char:'ãƒ',rom:'ba'},{char:'ãƒ“',rom:'bi'},{char:'ãƒ–',rom:'bu'},{char:'ãƒ™',rom:'be'},{char:'ãƒœ',rom:'bo'},
    {char:'ãƒ‘',rom:'pa'},{char:'ãƒ”',rom:'pi'},{char:'ãƒ—',rom:'pu'},{char:'ãƒš',rom:'pe'},{char:'ãƒ',rom:'po'},
  ],
  combo: [
    {char:'ã‚­ãƒ£',rom:'kya'},{char:'ã‚­ãƒ¥',rom:'kyu'},{char:'ã‚­ãƒ§',rom:'kyo'},
    {char:'ã‚·ãƒ£',rom:'sha'},{char:'ã‚·ãƒ¥',rom:'shu'},{char:'ã‚·ãƒ§',rom:'sho'},
    {char:'ãƒãƒ£',rom:'cha'},{char:'ãƒãƒ¥',rom:'chu'},{char:'ãƒãƒ§',rom:'cho'},
    {char:'ãƒ‹ãƒ£',rom:'nya'},{char:'ãƒ‹ãƒ¥',rom:'nyu'},{char:'ãƒ‹ãƒ§',rom:'nyo'},
    {char:'ãƒ’ãƒ£',rom:'hya'},{char:'ãƒ’ãƒ¥',rom:'hyu'},{char:'ãƒ’ãƒ§',rom:'hyo'},
    {char:'ãƒŸãƒ£',rom:'mya'},{char:'ãƒŸãƒ¥',rom:'myu'},{char:'ãƒŸãƒ§',rom:'myo'},
    {char:'ãƒªãƒ£',rom:'rya'},{char:'ãƒªãƒ¥',rom:'ryu'},{char:'ãƒªãƒ§',rom:'ryo'},
    {char:'ã‚®ãƒ£',rom:'gya'},{char:'ã‚¸ãƒ£',rom:'ja'},{char:'ãƒ“ãƒ£',rom:'bya'},{char:'ãƒ”ãƒ£',rom:'pya'},
  ]
};

const vocabData = [
  {jp:'æ°´',rom:'mizu',indo:'air',level:'n5',ex:'æ°´ã‚’é£²ã¿ã¾ã™ã€‚(Minum air)'},
  {jp:'é£Ÿã¹ã‚‹',rom:'taberu',indo:'makan',level:'n5',ex:'ã”é£¯ã‚’é£Ÿã¹ã¾ã™ã€‚(Makan nasi)'},
  {jp:'é£²ã‚€',rom:'nomu',indo:'minum',level:'n5',ex:'ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’é£²ã¿ã¾ã™ã€‚(Minum kopi)'},
  {jp:'è¦‹ã‚‹',rom:'miru',indo:'melihat/menonton',level:'n5',ex:'ãƒ†ãƒ¬ãƒ“ã‚’è¦‹ã¾ã™ã€‚(Menonton TV)'},
  {jp:'èã',rom:'kiku',indo:'mendengar/bertanya',level:'n5',ex:'éŸ³æ¥½ã‚’èãã¾ã™ã€‚(Mendengar musik)'},
  {jp:'è¡Œã',rom:'iku',indo:'pergi',level:'n5',ex:'å­¦æ ¡ã«è¡Œãã¾ã™ã€‚(Pergi ke sekolah)'},
  {jp:'æ¥ã‚‹',rom:'kuru',indo:'datang',level:'n5',ex:'å‹é”ãŒæ¥ã¾ã™ã€‚(Teman datang)'},
  {jp:'ã™ã‚‹',rom:'suru',indo:'melakukan',level:'n5',ex:'å‹‰å¼·ã‚’ã—ã¾ã™ã€‚(Belajar)'},
  {jp:'å¤§ãã„',rom:'ookii',indo:'besar',level:'n5',ex:'å¤§ãã„çŠ¬ã€‚(Anjing besar)'},
  {jp:'å°ã•ã„',rom:'chiisai',indo:'kecil',level:'n5',ex:'å°ã•ã„çŒ«ã€‚(Kucing kecil)'},
  {jp:'æ–°ã—ã„',rom:'atarashii',indo:'baru',level:'n5',ex:'æ–°ã—ã„æœ¬ã€‚(Buku baru)'},
  {jp:'å¤ã„',rom:'furui',indo:'lama/tua',level:'n5',ex:'å¤ã„è»Šã€‚(Mobil tua)'},
  {jp:'é«˜ã„',rom:'takai',indo:'mahal/tinggi',level:'n5',ex:'é«˜ã„ãƒ“ãƒ«ã€‚(Gedung tinggi)'},
  {jp:'å®‰ã„',rom:'yasui',indo:'murah',level:'n5',ex:'å®‰ã„ã‚Šã‚“ã”ã€‚(Apel murah)'},
  {jp:'ä»Šæ—¥',rom:'kyou',indo:'hari ini',level:'n5',ex:'ä»Šæ—¥ã¯æœˆæ›œæ—¥ã§ã™ã€‚(Hari ini Senin)'},
  {jp:'æ˜æ—¥',rom:'ashita',indo:'besok',level:'n5',ex:'æ˜æ—¥æ¥ã¾ã™ã€‚(Besok datang)'},
  {jp:'æ˜¨æ—¥',rom:'kinou',indo:'kemarin',level:'n5',ex:'æ˜¨æ—¥ã¯é›¨ã§ã—ãŸã€‚(Kemarin hujan)'},
  {jp:'ä»Š',rom:'ima',indo:'sekarang',level:'n5',ex:'ä»Šã€ä½•æ™‚ã§ã™ã‹ï¼Ÿ(Sekarang jam berapa?)'},
  {jp:'ä½•',rom:'nani',indo:'apa',level:'n5',ex:'ã“ã‚Œã¯ä½•ã§ã™ã‹ï¼Ÿ(Ini apa?)'},
  {jp:'äºº',rom:'hito',indo:'orang',level:'n5',ex:'ã‚ã®äººã¯èª°ã§ã™ã‹ï¼Ÿ(Orang itu siapa?)'},
  {jp:'æœ¬',rom:'hon',indo:'buku',level:'n5',ex:'æœ¬ã‚’èª­ã¿ã¾ã™ã€‚(Membaca buku)'},
  {jp:'è»Š',rom:'kuruma',indo:'mobil',level:'n5',ex:'è»Šã§è¡Œãã¾ã™ã€‚(Pergi dengan mobil)'},
  {jp:'é›»è»Š',rom:'densha',indo:'kereta',level:'n5',ex:'é›»è»Šã«ä¹—ã‚Šã¾ã™ã€‚(Naik kereta)'},
  {jp:'å­¦æ ¡',rom:'gakkou',indo:'sekolah',level:'n5',ex:'å­¦æ ¡ã«è¡Œãã¾ã™ã€‚(Pergi ke sekolah)'},
  {jp:'å…ˆç”Ÿ',rom:'sensei',indo:'guru',level:'n5',ex:'å…ˆç”Ÿã¯å„ªã—ã„ã§ã™ã€‚(Gurunya baik)'},
  {jp:'å‹é”',rom:'tomodachi',indo:'teman',level:'n5',ex:'å‹é”ã¨éŠã³ã¾ã™ã€‚(Bermain dengan teman)'},
  {jp:'åå‰',rom:'namae',indo:'nama',level:'n5',ex:'åå‰ã¯ä½•ã§ã™ã‹ï¼Ÿ(Namanya siapa?)'},
  {jp:'æ—¥æœ¬èª',rom:'nihongo',indo:'bahasa Jepang',level:'n5',ex:'æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã™ã€‚(Belajar bahasa Jepang)'},
  {jp:'è‹±èª',rom:'eigo',indo:'bahasa Inggris',level:'n5',ex:'è‹±èªãŒè©±ã›ã¾ã™ã‹ï¼Ÿ(Bisa bicara Inggris?)'},
  {jp:'å®¶',rom:'ie',indo:'rumah',level:'n5',ex:'å®¶ã«å¸°ã‚Šã¾ã™ã€‚(Pulang ke rumah)'},
  // N4
  {jp:'çµŒé¨“',rom:'keiken',indo:'pengalaman',level:'n4',ex:'çµŒé¨“ãŒã‚ã‚Šã¾ã™ã€‚(Punya pengalaman)'},
  {jp:'ç·´ç¿’',rom:'renshuu',indo:'latihan',level:'n4',ex:'æ¯æ—¥ç·´ç¿’ã—ã¾ã™ã€‚(Latihan setiap hari)'},
  {jp:'æº–å‚™',rom:'junbi',indo:'persiapan',level:'n4',ex:'æº–å‚™ãŒã§ãã¾ã—ãŸã€‚(Sudah siap)'},
  {jp:'äºˆç´„',rom:'yoyaku',indo:'reservasi',level:'n4',ex:'äºˆç´„ã‚’ã—ã¾ã™ã€‚(Membuat reservasi)'},
  {jp:'èª¬æ˜',rom:'setsumei',indo:'penjelasan',level:'n4',ex:'èª¬æ˜ã—ã¦ãã ã•ã„ã€‚(Tolong jelaskan)'},
  {jp:'ç¢ºèª',rom:'kakunin',indo:'konfirmasi',level:'n4',ex:'ç¢ºèªã—ã¾ã™ã€‚(Mengkonfirmasi)'},
  {jp:'é€£çµ¡',rom:'renraku',indo:'menghubungi',level:'n4',ex:'é€£çµ¡ã—ã¦ãã ã•ã„ã€‚(Tolong hubungi)'},
  {jp:'å¿ƒé…',rom:'shinpai',indo:'khawatir',level:'n4',ex:'å¿ƒé…ã—ãªã„ã§ã€‚(Jangan khawatir)'},
  {jp:'å±é™º',rom:'kiken',indo:'bahaya',level:'n4',ex:'å±é™ºã§ã™ã€‚(Berbahaya)'},
  {jp:'å¿…è¦',rom:'hitsuyou',indo:'perlu',level:'n4',ex:'å¿…è¦ãªã‚‚ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ(Apa yang diperlukan?)'},
  {jp:'ç‰¹åˆ¥',rom:'tokubetsu',indo:'spesial/khusus',level:'n4',ex:'ç‰¹åˆ¥ãªãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã€‚(Hadiah spesial)'},
  {jp:'æ™®é€š',rom:'futsuu',indo:'biasa/normal',level:'n4',ex:'æ™®é€šã®æ—¥ã€‚(Hari biasa)'},
  {jp:'æœ€è¿‘',rom:'saikin',indo:'baru-baru ini',level:'n4',ex:'æœ€è¿‘ã©ã†ã§ã™ã‹ï¼Ÿ(Belakangan bagaimana?)'},
  {jp:'è‡ªåˆ†',rom:'jibun',indo:'diri sendiri',level:'n4',ex:'è‡ªåˆ†ã§ã—ã¾ã™ã€‚(Lakukan sendiri)'},
  {jp:'ç†ç”±',rom:'riyuu',indo:'alasan',level:'n4',ex:'ç†ç”±ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚(Tolong beritahu alasannya)'},
  {jp:'æ„å‘³',rom:'imi',indo:'arti/makna',level:'n4',ex:'æ„å‘³ãŒåˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚(Tidak mengerti artinya)'},
  {jp:'æ–¹æ³•',rom:'houhou',indo:'cara/metode',level:'n4',ex:'æ–¹æ³•ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚(Tolong ajarkan caranya)'},
  {jp:'å•é¡Œ',rom:'mondai',indo:'masalah/soal',level:'n4',ex:'å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚(Tidak ada masalah)'},
  {jp:'è³ªå•',rom:'shitsumon',indo:'pertanyaan',level:'n4',ex:'è³ªå•ãŒã‚ã‚Šã¾ã™ã€‚(Ada pertanyaan)'},
  {jp:'é–¢ä¿‚',rom:'kankei',indo:'hubungan',level:'n4',ex:'é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚(Tidak ada hubungannya)'},
  {jp:'æ©Ÿä¼š',rom:'kikai',indo:'kesempatan',level:'n4',ex:'æ©Ÿä¼šãŒã‚ã‚Œã°ã€‚(Kalau ada kesempatan)'},
  {jp:'æ°—æŒã¡',rom:'kimochi',indo:'perasaan',level:'n4',ex:'æ°—æŒã¡ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚(Saya mengerti perasaanmu)'},
  {jp:'å¤‰ã‚ã‚‹',rom:'kawaru',indo:'berubah',level:'n4',ex:'å¤©æ°—ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚(Cuaca berubah)'},
  {jp:'å ´åˆ',rom:'baai',indo:'kasus/situasi',level:'n4',ex:'ãã®å ´åˆã¯ï¼Ÿ(Dalam kasus itu?)'},
  {jp:'æ§˜å­',rom:'yousu',indo:'kondisi/keadaan',level:'n4',ex:'æ§˜å­ã‚’è¦‹ã¦ãã ã•ã„ã€‚(Tolong lihat kondisinya)'},
];

// ---- KANA ----
let kanaFilters = { hiragana: 'gojuuon', katakana: 'gojuuon' };

function renderKanaGrid(type) {
  const f = kanaFilters[type];
  const data = (type === 'hiragana' ? hiraganaData : katakanaData)[f];
  const grid = document.getElementById(type + '-grid');
  grid.innerHTML = '';
  data.forEach(item => {
    const card = document.createElement('div');
    card.className = 'kana-card';
    card.innerHTML = `<span class="jp-char">${item.char}</span><div class="romaji">${item.rom}</div>${item.indo ? `<div class="indo">${item.indo}</div>` : ''}`;
    let flipped = false;
    card.onclick = () => {
      flipped = !flipped;
      card.style.background = flipped ? '#fff5f5' : '';
      card.style.borderColor = flipped ? 'var(--red)' : 'transparent';
    };
    grid.appendChild(card);
  });
}

function filterKana(type, f, btn) {
  kanaFilters[type] = f;
  const sec = document.getElementById(type);
  sec.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderKanaGrid(type);
}

// ---- VOCAB ----
let vocabLevel = 'all';
function renderVocab(data) {
  const grid = document.getElementById('vocab-grid');
  grid.innerHTML = '';
  if (!data.length) { grid.innerHTML = '<p style="color:var(--muted)">Tidak ada hasil.</p>'; return; }
  data.forEach(item => {
    const card = document.createElement('div');
    card.className = 'vocab-card';
    card.innerHTML = `<span class="vc-badge ${item.level}">${item.level.toUpperCase()}</span><div class="vc-jp">${item.jp}</div><div class="vc-romaji">${item.rom}</div><div class="vc-indo">${item.indo}</div><div class="vc-example">${item.ex}</div>`;
    card.onclick = () => {
      const ex = card.querySelector('.vc-example');
      ex.style.display = ex.style.display === 'block' ? 'none' : 'block';
    };
    grid.appendChild(card);
  });
}
function filterVocab(level, btn) {
  vocabLevel = level;
  document.querySelectorAll('#vocab .tab-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  applyVocabFilter();
}
function searchVocab() { applyVocabFilter(); }
function applyVocabFilter() {
  const q = document.getElementById('vocab-search').value.toLowerCase();
  let data = vocabData;
  if (vocabLevel !== 'all') data = data.filter(v => v.level === vocabLevel);
  if (q) data = data.filter(v => v.jp.includes(q) || v.rom.includes(q) || v.indo.toLowerCase().includes(q));
  renderVocab(data);
}

// ---- QUIZ ----
let quizMode = 'hiragana', quizScore = 0, quizTotal = 0;
let quizPool = [], currentQ = null, answered = false;

function setQuizMode(mode, btn) {
  quizMode = mode;
  document.querySelectorAll('#quiz .tab-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  restartQuiz();
}
function buildPool() {
  if (quizMode === 'hiragana') return hiraganaData.gojuuon.map(k => ({q:k.char, a:k.rom, type:'kana'}));
  if (quizMode === 'katakana') return katakanaData.gojuuon.map(k => ({q:k.char, a:k.rom, type:'kana'}));
  return vocabData.map(v => ({q:v.jp, a:v.indo, hint:v.rom, type:'vocab'}));
}
function shuffle(a) { for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} return a; }
function restartQuiz() {
  quizScore = 0; quizTotal = 0; answered = false;
  quizPool = shuffle(buildPool()).slice(0, 20);
  document.getElementById('quiz-next').style.display = 'none';
  document.getElementById('quiz-result').textContent = '';
  updateScore(); loadQuestion();
}
function loadQuestion() {
  if (quizTotal >= quizPool.length) {
    document.getElementById('quiz-question').textContent = 'ğŸ‰';
    document.getElementById('quiz-hint').textContent = '';
    document.getElementById('quiz-opts').innerHTML = `<div style="grid-column:1/-1;font-size:1.05rem;font-weight:600;color:var(--red)">Selesai! Skor: ${quizScore}/${quizPool.length} â€” Klik "Mulai Ulang"!</div>`;
    document.getElementById('quiz-next').style.display = 'none';
    return;
  }
  currentQ = quizPool[quizTotal]; answered = false;
  document.getElementById('quiz-question').textContent = currentQ.q;
  document.getElementById('quiz-hint').textContent = currentQ.hint ? `(${currentQ.hint})` : '';
  document.getElementById('quiz-result').textContent = '';
  document.getElementById('quiz-next').style.display = 'none';
  const allPool = buildPool();
  const wrongs = shuffle(allPool.filter(x=>x.a!==currentQ.a).map(x=>x.a)).slice(0,3);
  const opts = shuffle([currentQ.a, ...wrongs]);
  const optsDiv = document.getElementById('quiz-opts');
  optsDiv.innerHTML = '';
  opts.forEach(opt => {
    const btn = document.createElement('button');
    btn.className = 'quiz-opt'; btn.textContent = opt;
    btn.onclick = () => checkAnswer(opt, btn);
    optsDiv.appendChild(btn);
  });
  updateProgress();
}
function checkAnswer(chosen, btn) {
  if (answered) return; answered = true;
  const correct = chosen === currentQ.a;
  if (correct) { btn.classList.add('correct'); document.getElementById('quiz-result').innerHTML = 'âœ… Benar!'; document.getElementById('quiz-result').style.color = '#28a745'; }
  else {
    btn.classList.add('wrong');
    document.getElementById('quiz-result').innerHTML = `âŒ Salah! Jawaban: <b>${currentQ.a}</b>`;
    document.getElementById('quiz-result').style.color = '#dc3545';
    document.querySelectorAll('.quiz-opt').forEach(b => { if(b.textContent===currentQ.a) b.classList.add('correct'); });
  }
  if (correct) quizScore++;
  quizTotal++; updateScore();
  document.getElementById('quiz-next').style.display = 'inline-block';
}
function nextQuestion() { loadQuestion(); }
function updateScore() { document.getElementById('quiz-score').textContent = `Skor: ${quizScore} / ${quizTotal}`; }
function updateProgress() { document.getElementById('quiz-progress').style.width = (quizTotal/quizPool.length*100)+'%'; }

// ---- NAV ----
function showSection(id, btn) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if (btn) btn.classList.add('active');
  window.scrollTo(0,0);
}
function showSectionByName(id) {
  const navBtns = document.querySelectorAll('nav button');
  const ids = ['home','hiragana','katakana','vocab','quiz','tips'];
  const idx = ids.indexOf(id);
  showSection(id, idx >= 0 ? navBtns[idx] : null);
}

// ---- INIT ----
renderKanaGrid('hiragana');
renderKanaGrid('katakana');
renderVocab(vocabData);
restartQuiz();
</script>
</body>
</html>
